<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Statistics</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="{{ url_for('static', filename='theme.js') }}"></script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-shield-alt me-2"></i>
                Spam Detection System
            </a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/stats">Statistics</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-5 mb-5">
        <div class="text-center mb-5">
            <h1 class="display-5 fw-bold">
                <i class="fas fa-chart-line me-3"></i>
                Model Performance Statistics
            </h1>
            <p class="lead text-muted">Comparison of deep learning models</p>
        </div>

        <!-- Model Cards -->
        <div class="row g-4 mb-5">
            <div class="col-md-4">
                <div class="stats-card">
                    <div class="stats-icon email-icon">
                        <i class="fas fa-envelope fa-2x"></i>
                    </div>
                    <h4 class="mt-3">Email Spam Model</h4>
                    <p class="text-muted small">LSTM Neural Network</p>
                    <hr>
                    <div class="stats-metrics">
                        <div class="metric-item">
                            <span class="metric-label">Accuracy:</span>
                            <span class="metric-value">95.8%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">Precision:</span>
                            <span class="metric-value">94.2%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">Recall:</span>
                            <span class="metric-value">96.1%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">F1 Score:</span>
                            <span class="metric-value">95.1%</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="stats-card">
                    <div class="stats-icon sms-icon">
                        <i class="fas fa-comment-dots fa-2x"></i>
                    </div>
                    <h4 class="mt-3">SMS Spam Model</h4>
                    <p class="text-muted small">BiLSTM Neural Network</p>
                    <hr>
                    <div class="stats-metrics">
                        <div class="metric-item">
                            <span class="metric-label">Accuracy:</span>
                            <span class="metric-value">97.3%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">Precision:</span>
                            <span class="metric-value">96.8%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">Recall:</span>
                            <span class="metric-value">97.5%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">F1 Score:</span>
                            <span class="metric-value">97.1%</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="stats-card">
                    <div class="stats-icon url-icon">
                        <i class="fas fa-link fa-2x"></i>
                    </div>
                    <h4 class="mt-3">URL Phishing Model</h4>
                    <p class="text-muted small">CNN Neural Network</p>
                    <hr>
                    <div class="stats-metrics">
                        <div class="metric-item">
                            <span class="metric-label">Accuracy:</span>
                            <span class="metric-value">96.5%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">Precision:</span>
                            <span class="metric-value">95.9%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">Recall:</span>
                            <span class="metric-value">96.8%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">F1 Score:</span>
                            <span class="metric-value">96.3%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="row g-4">
            <div class="col-lg-6">
                <div class="chart-card">
                    <h5 class="mb-4">
                        <i class="fas fa-chart-bar me-2"></i>
                        Model Accuracy Comparison
                    </h5>
                    <canvas id="accuracyChart"></canvas>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="chart-card">
                    <h5 class="mb-4">
                        <i class="fas fa-chart-pie me-2"></i>
                        Overall Metrics Comparison
                    </h5>
                    <canvas id="metricsChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Model Architecture Info -->
        <div class="row mt-5">
            <div class="col-12">
                <div class="info-card">
                    <h4 class="mb-4">
                        <i class="fas fa-info-circle me-2"></i>
                        Model Architectures
                    </h4>
                    <div class="row">
                        <div class="col-md-4">
                            <h6 class="text-primary">Email Model (LSTM)</h6>
                            <ul class="small text-muted">
                                <li>Embedding Layer (128d)</li>
                                <li>LSTM Layer (128 units)</li>
                                <li>Dense Layer (64 units)</li>
                                <li>Output (Binary)</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h6 class="text-success">SMS Model (BiLSTM)</h6>
                            <ul class="small text-muted">
                                <li>Embedding Layer (100d)</li>
                                <li>Bidirectional LSTM (64 units)</li>
                                <li>Dense Layer (32 units)</li>
                                <li>Output (Binary)</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h6 class="text-warning">URL Model (CNN)</h6>
                            <ul class="small text-muted">
                                <li>Char-level Embedding (64d)</li>
                                <li>Conv1D Layer (128 filters)</li>
                                <li>GlobalMaxPooling</li>
                                <li>Dense Layers & Output</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Accuracy Comparison Chart
        const accuracyCtx = document.getElementById('accuracyChart').getContext('2d');
        new Chart(accuracyCtx, {
            type: 'bar',
            data: {
                labels: ['Email Model', 'SMS Model', 'URL Model'],
                datasets: [{
                    label: 'Accuracy (%)',
                    data: [95.8, 97.3, 96.5],
                    backgroundColor: [
                        'rgba(54, 162, 235, 0.7)',
                        'rgba(75, 192, 192, 0.7)',
                        'rgba(255, 206, 86, 0.7)'
                    ],
                    borderColor: [
                        'rgba(54, 162, 235, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(255, 206, 86, 1)'
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        ticks: {
                            callback: function(value) {
                                return value + '%';
                            }
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });

        // Metrics Radar Chart
        const metricsCtx = document.getElementById('metricsChart').getContext('2d');
        new Chart(metricsCtx, {
            type: 'radar',
            data: {
                labels: ['Accuracy', 'Precision', 'Recall', 'F1 Score'],
                datasets: [
                    {
                        label: 'Email',
                        data: [95.8, 94.2, 96.1, 95.1],
                        borderColor: 'rgba(54, 162, 235, 1)',
                        backgroundColor: 'rgba(54, 162, 235, 0.2)',
                        pointBackgroundColor: 'rgba(54, 162, 235, 1)'
                    },
                    {
                        label: 'SMS',
                        data: [97.3, 96.8, 97.5, 97.1],
                        borderColor: 'rgba(75, 192, 192, 1)',
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        pointBackgroundColor: 'rgba(75, 192, 192, 1)'
                    },
                    {
                        label: 'URL',
                        data: [96.5, 95.9, 96.8, 96.3],
                        borderColor: 'rgba(255, 206, 86, 1)',
                        backgroundColor: 'rgba(255, 206, 86, 0.2)',
                        pointBackgroundColor: 'rgba(255, 206, 86, 1)'
                    }
                ]
            },
            options: {
                responsive: true,
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 100,
                        ticks: {
                            stepSize: 20
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
